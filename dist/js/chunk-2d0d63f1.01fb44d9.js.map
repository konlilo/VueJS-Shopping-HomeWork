{"version":3,"sources":["webpack:///./src/views/Dashboard.vue","webpack:///./src/components/NavBar.vue","webpack:///./src/components/NavBar.vue?ab0f","webpack:///./src/views/Dashboard.vue?8dc4"],"names":["class","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","to","logout","href","methods","api","this","$http","post","then","res","console","log","data","success","$router","push","__exports__","components","NavBar","ToastMessages","provide","emitter","created","token","document","cookie","replace","defaults","headers","common","Authorization","render"],"mappings":"0IAEOA,MAAM,0C,8KADX,eAAiB,GACjB,eAGM,MAHN,EAGM,CAFJ,eAAiC,GACjC,eAAe,M,uDCHZA,MAAM,+C,iBACoB,Q,EAC7B,eAUS,UATPA,MAAM,iBACNC,KAAK,SACLC,cAAY,WACZC,cAAY,sBACZC,gBAAc,qBACdC,gBAAc,QACdC,aAAW,qB,CAEX,eAAyC,QAAnCN,MAAM,0B,MAETA,MAAM,2BAA2BO,GAAG,sB,GAClCP,MAAM,c,iBAEN,M,iBAEkD,M,iBAElD,O,oFApBT,eAyBM,MAzBN,EAyBM,CAxBJ,eAA+C,GAAlCQ,GAAG,cAAY,C,wBAAC,iBAAI,C,YACjC,EAWA,eAWM,MAXN,EAWM,CAVJ,eASM,MATN,EASM,CARJ,eAEC,GAFYA,GAAG,sBAAsBR,MAAM,Y,yBACzC,iBAAE,C,YAEL,eAAqE,GAAxDQ,GAAG,oBAAoBR,MAAM,Y,yBAAW,iBAAE,C,YACvD,eAEC,GAFYQ,GAAG,qBAAqBR,MAAM,Y,yBACxC,iBAAG,C,YAEN,eAA2D,KAAvD,QAAK,8CAAU,EAAAS,QAAA,EAAAA,OAAA,qBAAM,cAAET,MAAM,WAAWU,KAAK,KAAI,YAM9C,OACbC,QAAS,CACPF,OADO,WACE,WACDG,EAAE,UAAO,wCAAP,UACRC,KAAKC,MAAMC,KAAKH,GAAKI,MAAK,SAACC,GACzBC,QAAQC,IAAIF,EAAIG,KAAKC,SACjBJ,EAAIG,KAAKC,SACX,EAAKC,QAAQC,KAAK,gB,qBC/B5B,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,QFIA,GACbC,WAAY,CACVC,SACAC,gBAAA,MAGFC,QANa,WAOX,MAAO,CACLC,UAAA,OAGJC,QAXa,WAWH,WAGFC,EAAQC,SAASC,OAAOC,QAC5B,iDACA,MAMFrB,KAAKC,MAAMqB,SAASC,QAAQC,OAAOC,cAAgBP,EAGnD,IAAMnB,EAAE,UAAO,wCAAP,kBACRC,KAAKC,MAAMC,KAAKH,GAAKI,MAAK,SAACC,GAEpBA,EAAIG,KAAKC,SACZ,EAAKC,QAAQC,KAAK,eGnC1B,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASgB,KAErD","file":"js/chunk-2d0d63f1.01fb44d9.js","sourcesContent":["<template>\r\n  <NavBar></NavBar>\r\n  <div class=\"container-fluid mt-3 position-relative\">\r\n    <toast-messages></toast-messages>\r\n    <router-view />\r\n  </div>\r\n</template>\r\n<script>\r\nimport emitter from \"@/methods/emitter\";\r\nimport ToastMessages from \"@/components/ToastMessages.vue\";\r\nimport NavBar from \"../components/NavBar.vue\";\r\nexport default {\r\n  components: {\r\n    NavBar,\r\n    ToastMessages,\r\n  },\r\n  // provide() 讓內層可以使用外層元件的功能\r\n  provide() {\r\n    return {\r\n      emitter,\r\n    };\r\n  },\r\n  created() {\r\n    //   從瀏覽器 cookie中 取得 token\r\n    // 可參考 MDN.doc  https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie\r\n    const token = document.cookie.replace(\r\n      /(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/,\r\n      \"$1\"\r\n    );\r\n    // console.log(token);\r\n\r\n    // 將取出的token 放進  headers 裡做傳遞\r\n    // 可參考axios API https://github.com/axios/axios#global-axios-defaults\r\n    this.$http.defaults.headers.common.Authorization = token;\r\n\r\n    // 使用axios 串接 是否登入的API\r\n    const api = `${process.env.VUE_APP_API}api/user/check`;\r\n    this.$http.post(api).then((res) => {\r\n      // console.log(res);\r\n      if (!res.data.success) {\r\n        this.$router.push(\"/login\");\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n    <router-link to=\"/user/cart\">前台商城</router-link>\r\n    <button\r\n      class=\"navbar-toggler\"\r\n      type=\"button\"\r\n      data-toggle=\"collapse\"\r\n      data-target=\"#navbarNavAltMarkup\"\r\n      aria-controls=\"navbarNavAltMarkup\"\r\n      aria-expanded=\"false\"\r\n      aria-label=\"Toggle navigation\"\r\n    >\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n      <div class=\"navbar-nav\">\r\n        <router-link to=\"/dashboard/products\" class=\"nav-link\"\r\n          >產品</router-link\r\n        >\r\n        <router-link to=\"/dashboard/orders\" class=\"nav-link\">訂單</router-link>\r\n        <router-link to=\"/dashboard/coupons\" class=\"nav-link\"\r\n          >優惠券</router-link\r\n        >\r\n        <a @click.prevent=\"logout\" class=\"nav-link\" href=\"#\">登出</a>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n</template>\r\n<script>\r\nexport default {\r\n  methods: {\r\n    logout() {\r\n      const api = `${process.env.VUE_APP_API}logout`;\r\n      this.$http.post(api).then((res) => {\r\n        console.log(res.data.success);\r\n        if (res.data.success) {\r\n          this.$router.push(\"/login\");\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./NavBar.vue?vue&type=template&id=3c0fc93a\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue3-starter-files-gh-pages\\\\vue3-final-demo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Dashboard.vue?vue&type=template&id=f811ecf6\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\vue3-starter-files-gh-pages\\\\vue3-final-demo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}